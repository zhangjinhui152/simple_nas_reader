html
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
  body
    link(rel="stylesheet" href="/css/bootstrap.min.css")
    link(rel="stylesheet" href="/css/bootstrap-grid.min.css")
    link(rel="stylesheet" href="/css/bootstrap-utilities.min.css")
    link(rel="stylesheet" href="/css/my.css")
    script(src="/js/taliwind.js")
    script(src="/js/my.js")
    mixin centeredCard(cardTitle, cardText,type)
      div.w-24.h-24.bg-slate-100.mb-2.mt-2.relative(onclick=`handleClick('${type}','${cardText}')`)
        if type == "file"
          svg.w-8.h-8.absolute.top-8.left-8.icon(t='1699494951305' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='6285' width='200' height='200')
            path(d='M514.048 507.904m-502.272 0a502.272 502.272 0 1 0 1004.544 0 502.272 502.272 0 1 0-1004.544 0Z' fill='#2AB2BE' p-id='6286')
            path(d='M579.072 632.32c0 13.824-11.264 24.576-24.576 24.576h-322.048c-13.824 0-24.576-11.264-24.576-24.576v-286.72L332.8 229.888h221.696c13.824 0 24.576 11.264 24.576 24.576v377.856z' fill='#1C767E' p-id='6287')
            path(d='M329.728 226.304v115.2H204.8z' fill='#55C1CB' p-id='6288')
            path(d='M519.68 605.696h-223.232c-3.072 0-5.12-2.56-5.12-5.12V409.6c0-3.072 2.56-5.12 5.12-5.12h223.232c3.072 0 5.12 2.56 5.12 5.12v190.976c0.512 2.56-2.048 5.12-5.12 5.12z m-218.112-10.752h212.48V414.72h-212.48v180.224z' fill='#15595F' p-id='6289')
            path(d='M350.208 605.696c-3.072 0-5.12-2.56-5.12-5.12V409.6c0-3.072 2.56-5.12 5.12-5.12 3.072 0 5.12 2.56 5.12 5.12v190.976c0.512 2.56-2.048 5.12-5.12 5.12z' fill='#15595F' p-id='6290')
            path(d='M519.68 463.36h-223.232c-3.072 0-5.12-2.56-5.12-5.12 0-3.072 2.56-5.12 5.12-5.12h223.232c3.072 0 5.12 2.56 5.12 5.12 0.512 2.56-2.048 5.12-5.12 5.12zM519.68 509.952h-223.232c-3.072 0-5.12-2.56-5.12-5.12 0-3.072 2.56-5.12 5.12-5.12h223.232c3.072 0 5.12 2.56 5.12 5.12 0.512 3.072-2.048 5.12-5.12 5.12zM519.68 555.52h-223.232c-3.072 0-5.12-2.56-5.12-5.12 0-3.072 2.56-5.12 5.12-5.12h223.232c3.072 0 5.12 2.56 5.12 5.12 0.512 2.56-2.048 5.12-5.12 5.12z' fill='#15595F' p-id='6291')
            path(d='M799.744 765.952c0 14.336-11.776 25.6-25.6 25.6h-335.872c-14.336 0-25.6-11.776-25.6-25.6V466.944L542.72 346.112h231.424c14.336 0 25.6 11.776 25.6 25.6v394.24z' fill='#F2F2F2' p-id='6292')
            path(d='M542.208 346.112V466.432h-130.048z' fill='#CCCCCC' p-id='6293')
            path(d='M716.8 596.992h-196.608c-3.072 0-6.144-3.072-6.144-7.168 0-4.096 2.56-7.168 6.144-7.168H716.8c3.072 0 6.144 3.072 6.144 7.168-0.512 3.584-3.072 7.168-6.144 7.168zM716.8 654.848h-196.608c-3.072 0-6.144-3.072-6.144-7.168s2.56-7.168 6.144-7.168H716.8c3.072 0 6.144 3.072 6.144 7.168s-3.072 7.168-6.144 7.168zM618.496 713.216h-98.304c-3.072 0-6.144-3.072-6.144-7.168s2.56-7.168 6.144-7.168h98.304c3.072 0 6.144 3.072 6.144 7.168s-3.072 7.168-6.144 7.168z' fill='#B3B3B3' p-id='6294')
            path(d='M718.336 536.576h-196.608c-3.072 0-6.144-3.072-6.144-7.168 0-4.096 2.56-7.168 6.144-7.168h196.608c3.072 0 6.144 3.072 6.144 7.168 0 4.096-3.072 7.168-6.144 7.168z' fill='#B3B3B3' p-id='6295')

        if type == "dir"
          svg.w-8.h-8.absolute.top-8.left-8.icon(t='1699494688013' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='5229' width='200' height='200')
            path(d='M170.2 246.4h342.1s44.2-77.8 89.1-77.8h254.9c20.7 0 37.7 19.8 37.7 44l1.1 598.1c0 24.2-19.8 44-44 44h-681c-24.2 0-44-19.8-44-44V290.4c0.1-24.2 19.9-44 44.1-44z' fill='#694B4B' p-id='5230')
            path(d='M862.9 671.5l-688 38.3-22.2-406.4 688.1-59.3z' fill='#593F3F' p-id='5231')
            path(d='M870.8 671.8L242.2 707l-21.1-388 634.6-35.2z' fill='#593F3F' p-id='5232')
            path(d='M840.7 673.7L218.1 725l-21.9-383.4 623.4-55.9z' fill='#FFFFFF' p-id='5233')
            path(d='M807.9 715.1L178.6 750l-22.2-406.3 629.7-48.1z' fill='#F2F2F1' p-id='5234')
            path(d='M796 713.5l-619 36.3-22.1-406.3 618.8-40.1z' fill='#FFFFFF' p-id='5235')
            path(d='M895.2 425.1H509.1s-44.2-71.4-89.1-71.4H125.1c-20.7 0-38.9 16.3-38.9 36l40 429.2c0 19.7 19.8 35.8 44 35.8h685c24.2 0 44-16.1 44-35.8l40-358c0-19.7-19.8-35.8-44-35.8z' fill='#00B5FC' p-id='5236')
        if type == "image"
          div.relative
            //- img.w-full.h-full.object-cover(src="/images/"+reallyPath+cardTitle, alt=cardTitle srcset="")
            img.w-full.h-full.object-cover(src=cardTitle, alt=cardTitle srcset="")
            div.absolute.bottom-0.w-full.h-6.bg-slate-500.opacity-50

        p.absolute.bottom-0.mb-0.w-full.truncate.px-2 #{cardText}

    ul.list-group
      li.list-group-item 当前文件夹位置 #{path}
        .row
          each file in fileInfoList
            .col-4
              if file.isDirectory()
                +centeredCard(file.cacheFileName  , file.fileName,"dir" )
              else if file.isFile()
                if file.fileName.match(/\.(jpg|jpeg|png|gif)$/i)
                  +centeredCard(file.cacheFileName  ,file.fileName,"image" )
                else
                  +centeredCard(file.cacheFileName  ,file.fileName,"file" )
    .flex.space-x-4.mt-2
      button.px-4.py-2.bg-blue-500.text-white.rounded-md(onclick=`backParentDir()`) 父文件夹
      button.px-4.py-2.bg-blue-500.text-white.rounded-md(onclick=`next(-5,-5)`) 上一页
      button.px-4.py-2.bg-blue-500.text-white.rounded-md(onclick=`next(+5,+5)`) 下一页
